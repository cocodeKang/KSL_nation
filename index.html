<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>나라수어 학습 사이트</title>
  <style>
    body { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background: #f0f0f0; margin: 0; }
    #videoContainer { position: relative; }
    video { max-width: 100%; border: 1px solid #ccc; border-radius: 8px; }
    .controls { margin-top: 10px; }
    button { margin: 0 5px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
    #answer, #description { margin-top: 10px; font-size: 18px; color: #333; }
    #description { font-size: 16px; color: #555; }
  </style>
</head>
<body>
  <div id="videoContainer">
    <video id="videoPlayer" autoplay loop></video>
  </div>
  <div class="controls">
    <button id="prevBtn">이전</button>
    <button id="answerBtn">정답보기</button>
    <button id="descBtn">설명보기</button>
    <button id="nextBtn">다음</button>
  </div>
  <div id="answer"></div>
  <div id="description"></div>

  <script>
    // 1) 영상 파일 목록 (Italy1.mp4 추가)
    const videos = [
      'USA.mp4','China.mp4','Japan.mp4','Germany.mp4','UK.mp4',
      'France.mp4','Italy.mp4','Italy1.mp4','Canada.mp4','Russia.mp4',
      // ... 이하 생략 ...
      'Israel.mp4'
    ];

    // 2) 설명 객체: 빠진 쉼표(,) 추가 완료
    const descriptions = {
      'USA':        '미국은 할리우드 영화 산업과 실리콘밸리 기술 혁신으로 유명합니다.',
      'China':      '중국은 만리장성과 풍부한 차(茶) 문화가 유명합니다. 세계 최대 인구를 보유하며, 옛날 비단길의 중심지였고, 56개의 민족과 300여 개의 방언이 공존하는 다문화 국가입니다.',
      'Japan':      '일본은 벚꽃과 전통 온천, 애니메이션 문화로 잘 알려져 있습니다.',
      'Germany':    '독일은 고성능 자동차(벤츠, BMW)와 옥토버페스트 맥주 축제로 유명합니다.',
      'UK':         '영국은 빅벤과 로열 패밀리, 전통 애프터눈 티로 유명합니다.',
      'France':     '프랑스는 에펠탑과 고급 와인, 베이커리 문화가 유명합니다.',
      'Italy':      '이탈리아는 피자와 파스타, 로마 유적이 유명합니다.',
      'Italy1':     '이탈리아는 르네상스 예술과 베네치아 곤돌라가 유명합니다.',  // ← 콤마 필수!
      'Canada':     '캐나다는 광활한 자연경관과 메이플 시럽으로 유명합니다.',
      // ... 이하 생략 ...
      'Israel':     '이스라엘은 예루살렘 성지와 사해 두루마리로 유명합니다.'
    };

    // Fisher–Yates 셔플
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    let currentIndex = 0;

    function loadVideo() {
      const player = document.getElementById('videoPlayer');
      player.src = videos[currentIndex];
      player.play();
      document.getElementById('answer').textContent = '';
      document.getElementById('description').textContent = '';
    }

    // 버튼 이벤트
    document.getElementById('prevBtn').onclick = () => {
      currentIndex = (currentIndex - 1 + videos.length) % videos.length;
      loadVideo();
    };
    document.getElementById('nextBtn').onclick = () => {
      currentIndex = (currentIndex + 1) % videos.length;
      loadVideo();
    };
    document.getElementById('answerBtn').onclick = () => {
      const country = videos[currentIndex].replace(/\.mp4$/, '');
      document.getElementById('answer').textContent = `정답: ${country}`;
    };
    document.getElementById('descBtn').onclick = () => {
      const country = videos[currentIndex].replace(/\.mp4$/, '');
      document.getElementById('description').textContent =
        descriptions[country] || '설명 데이터가 없습니다.';
    };

    // 키보드 단축키
    document.addEventListener('keydown', (e) => {
      if (['INPUT','TEXTAREA'].includes(e.target.tagName)) return;
      const key = e.key.toLowerCase();
      if (key === 'q') document.getElementById('prevBtn').click();
      if (key === 'w') document.getElementById('answerBtn').click();
      if (key === 'r') document.getElementById('descBtn').click();
      if (key === 'e') document.getElementById('nextBtn').click();
    });

    // 초기 실행
    window.onload = () => {
      shuffle(videos);
      loadVideo();
    };
  </script>
</body>
</html>
